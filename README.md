Умный сервис прогноза погоды "WhatGonnaWear-bot" (задача со звёздочкой*)


Программа написана на языке Python 3.6.9 с использованием сторонних библиотек:
- requests (направление http-запроса на сервер прогноза погоды),
- python-dotenv (загрузка и считывание переменных окружения из файла .env)
- pyTelegramBotAPI (работа с Телеграм-ботом),
- PySocks (для направления трафика через SOCKS и прокси-серверы HTTP)
- полный спиок зависимостей в файле requirements.txt

Проект реализован в форме чат-бота Телеграм.

Полученные с API данные о погоде направляются пользователю в текстовом формате в ответ на запрос в чате.
В ответе содержится информация о погоде в выбранном городе в трех временных точках: ближайший час, через 6 часов и через 12 часов.
Поддерживается русский язык и метрическая система исчисления.
Погодные характеристики:
- общее описание погоды (ясно, пасмурно, облачно с прояснениями...),
- температура воздуха в гр. Цельсия,
- ощущение температуры в гр. Цельсия,
- влажность, %,
- скорость ветра, м/с.
Ответ также содержит небольшую рекомендацию о выборе одежды в зависимости от погодных условий (каждые 5 градусов в промежутке от -25 до +25)


Пример:
Пальто и стильный шарф сегодня как никогда кстати!

Погода в г. Санкт-Петербург в 18:00
Небольшой дождь. Температура воздуха: 5°, по ощущениям: -2°. Влажность 85 %, скорость ветра 7 м/с.

Погода в г.Санкт-Петербург в 00:00
Небольшой дождь. Температура воздуха: 6°, по ощущениям: 0°. Влажность 85 %, скорость ветра 7 м/с.

Погода в г.Санкт-Петербург в 06:00
Пасмурно. Температура воздуха: 8°, по ощущениям: 2°. Влажность 74 %, скорость ветра 7 м/с.


Процесс работы программы:
1) Пользователь запускает чат-бота Телеграм "WhatGonnaWear-bot" кнопкой /start.
2) В ответ приходит сообщение "Привет <имя пользователя в Телеграм>! Напишите название города или выберите из списка".
3) В предложенном списке в виде кнопок - 10 городов России с наибольшим количеством жителей. Пользователь может написать любой другой город мира.
4) Полученное наименование города передается в качетстве аргумента в функцию, которая осуществляет http-запрос на открытый API погодного сервера, который в свою очередь предоставляет информацию о погоде в городе в формате JSON (при этом функция обрабатывает возможные исключения и в случае ошибки соединения формирует соответствущий ответ пользователю).
5) Из полученной информации отбираются только данные необходимые для ответа пользователю: общее описание погоды (ясно, пасмурно, облачно с прояснениями...), температура воздуха, ощущение температуры в гр. Цельсия, влажность, скорость ветра, м/с в трёх временных точках.
6) Далее исходя из полученных данных о погоде формируется краткая рекомендация о выборе одежды.
7) Пользователю приходит ответ от чат-бота с рекомендацией и прогнозом погоды в выбранном городе.
8) В случае возникновения ошибки соединения или ввода неверного наименования города пользователю приходит соответсвующее сообщение.


Как запустить программу:

1) Клонируйте репозитроий с программой на локальную папку с помощью команды git clone https://github.com/leks20/WhatGonnaWear_bot.git
2) Установите язык программирования Python 3
3) Откройте в редакторе кода директорию WhatGonnaWear_bot, установите виртуальное окружение с помощью команды python3 -m venv venv, а затем необхоимые зависимости с помощью команды pip install -r requirements.txt
4) Создайте в директории файл .env и поместите туда необходимые токены в формате telegram_token = 'ххххххххх', weather_token = 'ххххххххххх'
5) Откройте файл main.py и запустите исполнение кода
6) В мессенджере Телеграм найдите чат-бота WhatGonnaWear_bot, запустите его командой /start и дальше следуйте инструкции.
